<app-adheader></app-adheader>
<br>
<div class="row mt-4 ">
  <div class="d-none d-md-block d-lg-block d-xl-block col-md-3  sidenav">
    <app-siderbar></app-siderbar>
  </div>
  <div class="col-md-9 col-sm-12 my-2 bg-light">
      <div class="row mt-5">

        
<div class="col-12">

        <!--table-->
        <div class="example-container mat-elevation-z8">
            <div class="example-header">
              <mat-form-field>
                <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
              </mat-form-field>
            </div>
          
            <table mat-table [dataSource]="dataSource" matSort>
         
          <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
                <td mat-cell *matCellDef="let orders">{{orders.title}} </td>
                
              </ng-container>
          
             
              
          
             
              <ng-container matColumnDef="create">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Create Date</th>
                <td mat-cell *matCellDef="let orders">{{orders.create.toDate()| date :'short'}}  </td>
                
              </ng-container>
             
              
              <ng-container  matColumnDef="updated" >
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Updated Date </th>
                <td mat-cell *matCellDef="let order" >{{order.update.toDate()| date :'short'}}  </td>
                
              </ng-container>
              <!--Edit/delete-->
              <ng-container matColumnDef="edit/delete">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Edit </th>
                <td mat-cell *matCellDef="let order">
                    <br>
                  <button class="btn btn-primary btn-sm  my-2 mx-auto" data-toggle="modal" data-target="#editmovie" (click)="query(order.title)">  
                    <i class="fa fa-edit" aria-hidden="true"></i>
                </button>
                
                <br>
                
                </td>
                
              </ng-container>
        
          
          
          
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;">
              </tr>
            </table>
            <!--model box-->
          <div id="editmovie" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" >
                <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                            <h4 class="modal-title">Details</h4>
                              
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                     
                            </div>
                                <div class="modal-body">
                                <form class="col-12 " *ngFor="let movie of movie | async">
                                    <div class="col-md-6 col-6 mx-auto" >
                                        <div class="mb-4" >
                                            <img [src]="movie.url" class=" img-fluid">
                                          </div>
                                           
                                    <div class="image-upload">
    
                                      
                                        <input id="file-input" type="file" single=true (change)="upload($event,movie.title)"  name="file-input" accept=".png,.jpg">
                                        
                                      
                                    </div>
                                    
                                        </div>
                                    
                                 <label>Title</label>&nbsp;&nbsp;&nbsp;<input type="text" #title   [value]='movie.title' class="col-6 form-control" >
                                 <br>
                                 
                                 <label>Link</label>&nbsp;&nbsp;&nbsp;<input type="text" #link  [value]='movie.link' class="col-6 form-control" >  <br><br>
                                  <button type="submit"   class="mx-4 btn btn-primary" (click)="scheduleorder(title.value, link.value)">update</button>
                                </form>
                                     </div>
                                  
                                    
                                      
                                        </div>
                                        </div>
                                        </div>
                                   
                               
                          
        
          
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
          </div>
          </div>
          </div>
        </div>